<?xml version="1.0" encoding="UTF-8"?>
<!--
############################
# Copyright (c) merspieler #
############################
-->


<PropertyList>



	<!-- NAV Protector -->
	<animation>
		<type>pick</type>
		<object-name>radio_nav_lit</object-name>
		<action>
			<button>0</button>
			<binding>
				<command>property-toggle</command>
				<property>controls/radio/rmp[1]/nav-protect</property>
			</binding>
			<binding>
				<command>nasal</command>
				<script>setprop("sim/sounde/oh-cover", 1);</script>
			</binding>
		</action>
	</animation>
	<animation>
		<type>rotate</type>
		<object-name>radio_nav_lit</object-name>
		<property>controls/radio/rmp[1]/nav-protect</property>
		<factor>-90</factor>
		<axis>
			<object-name>radio_nav_lit.axis</object-name>
		</axis>
	</animation>

	<!-- NAV -->
	<animation>
		<type>pick</type>
		<object-name>radio_nav</object-name>
		<action>
			<button>0</button>
			<repeatable>false</repeatable>
			<binding>
				<command>property-toggle</command>
				<property>systems/radio/rmp[1]/nav</property>
				<condition>
					<and>
						<greater-than-equals>
							<property>systems/electrical/bus/dc-ess</property>
							<value>25</value>
						</greater-than-equals>
						<property>controls/radio/rmp[1]/on</property>
						<equals>
							<property>controls/radio/rmp[1]/nav-protect</property>
							<value>1</value>
						</equals>
					</and>
				</condition>
			</binding>
			<binding>
				<command>property-assign</command>
				<property>controls/radio/rmp[1]/nav-protect</property>
				<value>0</value>
			</binding>
			<binding>
				<command>nasal</command>
				<script>setprop("sim/sounde/oh-cover", 1);</script>
			</binding>
		</action>
	</animation>

	<!-- STBY NAV -->
	<animation>
		<type>pick</type>
		<object-name>radio_vor</object-name>
		<action>
			<button>0</button>
			<repeatable>true</repeatable>
			<binding>
				<command>property-assign</command>
				<property>systems/radio/rmp[1]/sel_chan</property>
				<value>vor</value>
				<condition>
					<and>
						<greater-than-equals>
							<property>systems/electrical/bus/dc-ess</property>
							<value>25</value>
						</greater-than-equals>
						<property>controls/radio/rmp[1]/on</property>
						<equals>
							<property>systems/radio/rmp[1]/nav</property>
							<value>1</value>
						</equals>
					</and>
				</condition>
			</binding>
		</action>
	</animation>

	<animation>
		<type>pick</type>
		<object-name>radio_ls</object-name>
		<action>
			<button>0</button>
			<repeatable>true</repeatable>
			<binding>
				<command>property-assign</command>
				<property>systems/radio/rmp[1]/sel_chan</property>
				<value>ls</value>
				<condition>
					<and>
						<greater-than-equals>
							<property>systems/electrical/bus/dc-ess</property>
							<value>25</value>
						</greater-than-equals>
						<property>controls/radio/rmp[1]/on</property>
						<equals>
							<property>systems/radio/rmp[1]/nav</property>
							<value>1</value>
						</equals>
					</and>
				</condition>
			</binding>
		</action>
	</animation>

	<animation>
		<type>pick</type>
		<object-name>radio_adf</object-name>
		<action>
			<button>0</button>
			<repeatable>true</repeatable>
			<binding>
				<command>property-assign</command>
				<property>systems/radio/rmp[1]/sel_chan</property>
				<value>adf</value>
				<condition>
					<and>
						<greater-than-equals>
							<property>systems/electrical/bus/dc-ess</property>
							<value>25</value>
						</greater-than-equals>
						<property>controls/radio/rmp[1]/on</property>
						<equals>
							<property>systems/radio/rmp[1]/nav</property>
							<value>1</value>
						</equals>
					</and>
				</condition>
			</binding>
		</action>
	</animation>

	<animation>
		<type>pick</type>
		<object-name>radio_bfo</object-name>
		<action>
			<button>0</button>
			<repeatable>true</repeatable>
			<binding>
				<command>property-toggle</command>
				<property>systems/radio/rmp[1]/bfo-active</property>
				<condition>
					<and>
						<greater-than-equals>
							<property>systems/electrical/bus/dc-ess</property>
							<value>25</value>
						</greater-than-equals>
						<property>controls/radio/rmp[1]/on</property>
						<equals>
							<property>systems/radio/rmp[1]/nav</property>
							<value>1</value>
						</equals>
						<equals>
							<property>systems/radio/rmp[1]/sel_chan</property>
							<value>adf</value>
						</equals>
					</and>
				</condition>
			</binding>
		</action>
	</animation>

	
	<animation>
		<name>Panel lighting</name>
		<type>material</type>
		<object-name>radio_body</object-name>
		<object-name>radio_rot0</object-name>
		<object-name>radio_rot1</object-name>
		<object-name>radio_on</object-name>
		<emission>
			<red>0.3</red>
			<green>0.3</green>
			<blue>0.3</blue>
			<factor-prop>sim/model/lights/dome-light</factor-prop>
		</emission>
	</animation>
	
	<effect>
		<inherits-from>Aircraft/A320-family/Models/Effects/Model/cockpit-irradiance</inherits-from>
		<object-name>radio_body</object-name>
		<object-name>radio_rot0</object-name>
		<object-name>radio_rot1</object-name>
		<object-name>radio_on</object-name>
	</effect>
	
	<effect>
		<inherits-from>Effects/model-transparent</inherits-from>
		<object-name>radio_glare</object-name>
		<object-name>radio_nav_lit</object-name>
	</effect>

</PropertyList>
